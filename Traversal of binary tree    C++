

#include <iostream>
#include <vector>
#include <algorithm>
#include<map>
using namespace std;


//已知前序和中序求后序
vector<int> pre,in;
vector<int> post;

void postOrder(int prel,int inl,int inr){
	
	if(inl>inr){
		return ;
	}
	int i = inl;
	while(in[i]!=pre[prel]){
		i++;
	}
	postOrder(prel+1,inl,i-1);
	postOrder(prel+1+i-inl,i+1,inr);
	post.push_back(in[i]);
	 
}

int main(){
	int n;
	scanf("%d",&n);
	
	pre.resize(n);
	in.resize(n);
	for(int i = 0;i<n;i++){
		cin>>pre[i];
		
	}  
	for(int i = 0;i<n;i++){
		cin>>in[i];
		
	}
	postOrder(0,0,n-1);
	for(int i = 0;i<post.size() ;i++){
		cout<<post[i]<<" ";
		
	}
	return 0;
}
